CKEDITOR.dialog.add("button",function(a){function b(c){var d=this.getValue();if(d){c.attributes[this.id]=d;if(this.id=="name"){c.attributes["data-cke-saved-name"]=d}}else{delete c.attributes[this.id];if(this.id=="name"){delete c.attributes["data-cke-saved-name"]}}}return{title:a.lang.button.title,minWidth:350,minHeight:150,onShow:function(){delete this.button;var c=this.getParentEditor().getSelection().getSelectedElement();if(c&&c.is("input")){var d=c.getAttribute("type");if(d in {button:1,reset:1,submit:1}){this.button=c;this.setupContent(c)}}},onOk:function(){var f=this.getParentEditor(),e=this.button,d=!e;var c=e?CKEDITOR.htmlParser.fragment.fromHtml(e.getOuterHtml()).children[0]:new CKEDITOR.htmlParser.element("input");this.commitContent(c);var g=new CKEDITOR.htmlParser.basicWriter();c.writeHtml(g);var h=CKEDITOR.dom.element.createFromHtml(g.getHtml(),f.document);if(d){f.insertElement(h)}else{h.replace(e);f.getSelection().selectElement(h)}},contents:[{id:"info",label:a.lang.button.title,title:a.lang.button.title,elements:[{id:"name",type:"text",label:a.lang.common.name,"default":"",setup:function(c){this.setValue(c.data("cke-saved-name")||c.getAttribute("name")||"")},commit:b},{id:"value",type:"text",label:a.lang.button.text,accessKey:"V","default":"",setup:function(c){this.setValue(c.getAttribute("value")||"")},commit:b},{id:"type",type:"select",label:a.lang.button.type,"default":"button",accessKey:"T",items:[[a.lang.button.typeBtn,"button"],[a.lang.button.typeSbm,"submit"],[a.lang.button.typeRst,"reset"]],setup:function(c){this.setValue(c.getAttribute("type")||"")},commit:b}]}]}});