CKEDITOR.dialog.add("scaytcheck",function(f){var j=true,b,y=CKEDITOR.document,a=f.name,n=CKEDITOR.plugins.scayt.getUiTabs(f),s,t=[],c=0,d=["dic_create_"+a+",dic_restore_"+a,"dic_rename_"+a+",dic_delete_"+a],m=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"];function v(){if(typeof document.forms["optionsbar_"+a]!="undefined"){return document.forms["optionsbar_"+a]["options"]}return[]}function k(){if(typeof document.forms["languagesbar_"+a]!="undefined"){return document.forms["languagesbar_"+a]["scayt_lang"]}return[]}function r(B,D){if(!B){return}var C=B.length;if(C==undefined){B.checked=B.value==D.toString();return}for(var A=0;A<C;A++){B[A].checked=false;if(B[A].value==D.toString()){B[A].checked=true}}}var z=f.lang.scayt;var e=[{id:"options",label:z.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar_'+a+'"><div class="inner_options">	<div class="messagebox"></div>	<div style="display:none;">		<input type="checkbox" name="options"  id="allCaps_'+a+'" />		<label for="allCaps" id="label_allCaps_'+a+'"></label>	</div>	<div style="display:none;">		<input name="options" type="checkbox"  id="ignoreDomainNames_'+a+'" />		<label for="ignoreDomainNames" id="label_ignoreDomainNames_'+a+'"></label>	</div>	<div style="display:none;">	<input name="options" type="checkbox"  id="mixedCase_'+a+'" />		<label for="mixedCase" id="label_mixedCase_'+a+'"></label>	</div>	<div style="display:none;">		<input name="options" type="checkbox"  id="mixedWithDigits_'+a+'" />		<label for="mixedWithDigits" id="label_mixedWithDigits_'+a+'"></label>	</div></div></form>'}]},{id:"langs",label:z.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar_'+a+'"><div class="inner_langs">	<div class="messagebox"></div>	   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol_'+a+'" ></div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol_'+a+'"></div></div></form>'}]},{id:"dictionaries",label:z.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar_'+a+'"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">	<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message_'+a+'"> </div>	<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>		<span class="cke_dialog_ui_labeled_content" >			<div class="cke_dialog_ui_input_text">				<input id="dic_name_'+a+'" type="text" class="cke_dialog_ui_input_text"/>		</div></span></div>		<div style="margin:5px auto; width:80%;white-space:normal;">			<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create_'+a+'">				</a>			<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete_'+a+'">				</a>			<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename_'+a+'">				</a>			<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore_'+a+'">				</a>		</div>	<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info_'+a+'"></div></div></form>'}]},{id:"about",label:z.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about_'+a+'"></div>'}]}];var g={title:z.title,minWidth:360,minHeight:220,onShow:function(){var A=this;A.data=f.fire("scaytDialog",{});A.options=A.data.scayt_control.option();A.chosed_lang=A.sLang=A.data.scayt_control.sLang;if(!A.data||!A.data.scayt||!A.data.scayt_control){alert("Error loading application service");A.hide();return}var i=0;if(j){A.data.scayt.getCaption(f.langCode||"en",function(B){if(i++>0){return}b=B;x.apply(A);q.apply(A);j=false})}else{q.apply(A)}A.selectPage(A.data.tab)},onOk:function(){var A=this.data.scayt_control;A.option(this.options);var i=this.chosed_lang;A.setLang(i);A.refresh()},onCancel:function(){var B=v();for(var A in B){B[A].checked=false}r(k(),"")},contents:t};var h=CKEDITOR.plugins.scayt.getScayt(f);for(s=0;s<n.length;s++){if(n[s]==1){t[t.length]=e[s]}}if(n[2]==1){c=1}var x=function(){var O=this,H=O.data.scayt.getLangList(),I=["dic_create","dic_delete","dic_rename","dic_restore"],C=[],P=[],Q=m,N;if(c){for(N=0;N<I.length;N++){C[N]=I[N]+"_"+a;y.getById(C[N]).setHtml('<span class="cke_dialog_ui_button">'+b["button_"+I[N]]+"</span>")}y.getById("dic_info_"+a).setHtml(b.dic_info)}if(n[0]==1){for(N in Q){var F="label_"+Q[N],R=F+"_"+a,B=y.getById(R);if("undefined"!=typeof B&&"undefined"!=typeof b[F]&&"undefined"!=typeof O.options[Q[N]]){B.setHtml(b[F]);var S=B.getParent();S.$.style.display="block"}}}var D='<p><img src="'+window.scayt.getAboutInfo().logoURL+'" /></p><p>'+b.version+window.scayt.getAboutInfo().version.toString()+"</p><p>"+b.about_throwt_copy+"</p>";y.getById("scayt_about_"+a).setHtml(D);var E=function(W,X){var V=y.createElement("label");V.setAttribute("for","cke_option"+W);V.setHtml(X[W]);if(O.sLang==W){O.chosed_lang=W}var Y=y.createElement("div");var i=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+W+'" type="radio" '+(O.sLang==W?'checked="checked"':"")+' value="'+W+'" name="scayt_lang" />');i.on("click",function(){this.$.checked=true;O.chosed_lang=W});Y.append(i);Y.append(V);return{lang:X[W],code:W,radio:Y}};if(n[1]==1){for(N in H.rtl){P[P.length]=E(N,H.ltr)}for(N in H.ltr){P[P.length]=E(N,H.ltr)}P.sort(function(V,i){return(i.lang>V.lang)?-1:1});var J=y.getById("scayt_lcol_"+a),G=y.getById("scayt_rcol_"+a);for(N=0;N<P.length;N++){var A=(N<P.length/2)?J:G;A.append(P[N].radio)}}var U={};U.dic_create=function(W,Y,V){var Z=V[0]+","+V[1];var X=b.err_dic_create;var i=b.succ_dic_create;window.scayt.createUserDictionary(Y,function(aa){l(Z);u(V[1]);i=i.replace("%s",aa.dname);w(i)},function(aa){X=X.replace("%s",aa.dname);o(X+"( "+(aa.message||"")+")")})};U.dic_rename=function(V,X){var W=b.err_dic_rename||"";var i=b.succ_dic_rename||"";window.scayt.renameUserDictionary(X,function(Y){i=i.replace("%s",Y.dname);p(X);w(i)},function(Y){W=W.replace("%s",Y.dname);p(X);o(W+"( "+(Y.message||"")+" )")})};U.dic_delete=function(W,Y,V){var Z=V[0]+","+V[1];var X=b.err_dic_delete;var i=b.succ_dic_delete;window.scayt.deleteUserDictionary(function(aa){i=i.replace("%s",aa.dname);l(Z);u(V[0]);p("");w(i)},function(aa){X=X.replace("%s",aa.dname);o(X)})};U.dic_restore=O.dic_restore||function(W,Y,V){var Z=V[0]+","+V[1];var X=b.err_dic_restore;var i=b.succ_dic_restore;window.scayt.restoreUserDictionary(Y,function(aa){i=i.replace("%s",aa.dname);l(Z);u(V[1]);w(i)},function(aa){X=X.replace("%s",aa.dname);o(X)})};function K(W){var X=y.getById("dic_name_"+a).getValue();if(!X){o(" Dictionary name should not be empty. ");return false}try{var i=W.data.getTarget().getParent();var Y=/(dic_\w+)_[\w\d]+/.exec(i.getId())[1];U[Y].apply(null,[i,X,d])}catch(V){o(" Dictionary error. ")}return true}var T=(d[0]+","+d[1]).split(","),L;for(N=0,L=T.length;N<L;N+=1){var M=y.getById(T[N]);if(M){M.on("click",K,this)}}};var q=function(){var D=this;if(n[0]==1){var G=v();for(var B=0,A=G.length;B<A;B++){var C=G[B].id;var E=y.getById(C);if(E){G[B].checked=false;if(D.options[C.split("_")[0]]==1){G[B].checked=true}if(j){E.on("click",function(){D.options[this.getId().split("_")[0]]=this.$.checked?1:0})}}}}if(n[1]==1){var F=y.getById("cke_option"+D.sLang);r(F.$,D.sLang)}if(c){window.scayt.getNameUserDictionary(function(H){var i=H.dname;l(d[0]+","+d[1]);if(i){y.getById("dic_name_"+a).setValue(i);u(d[1])}else{u(d[0])}},function(){y.getById("dic_name_"+a).setValue("")});w("")}};function o(i){y.getById("dic_message_"+a).setHtml('<span style="color:red;">'+i+"</span>")}function w(i){y.getById("dic_message_"+a).setHtml('<span style="color:blue;">'+i+"</span>")}function u(D){D=String(D);var C=D.split(",");for(var B=0,A=C.length;B<A;B+=1){y.getById(C[B]).$.style.display="inline"}}function l(D){D=String(D);var C=D.split(",");for(var B=0,A=C.length;B<A;B+=1){y.getById(C[B]).$.style.display="none"}}function p(i){y.getById("dic_name_"+a).$.value=i}return g});