(function(){CKEDITOR.plugins.add("div",{requires:["editingblock","dialog","domiterator","styles"],init:function(a){var b=a.lang.div;a.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv"));a.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv"));a.addCommand("removediv",{exec:function(j){var k=j.getSelection(),e=k&&k.getRanges(),h,f=k.createBookmarks(),c,d=[];function l(m){var n=new CKEDITOR.dom.elementPath(m),i=n.blockLimit,o=i.is("div")&&i;if(o&&!o.data("cke-div-added")){d.push(o);o.data("cke-div-added")}}for(var g=0;g<e.length;g++){h=e[g];if(h.collapsed){l(k.getStartElement())}else{c=new CKEDITOR.dom.walker(h);c.evaluator=l;c.lastForward()}}for(g=0;g<d.length;g++){d[g].remove(true)}k.selectBookmarks(f)}});a.ui.addButton("CreateDiv",{label:b.toolbar,command:"creatediv"});if(a.addMenuItems){a.addMenuItems({editdiv:{label:b.edit,command:"editdiv",group:"div",order:1},removediv:{label:b.remove,command:"removediv",group:"div",order:5}});if(a.contextMenu){a.contextMenu.addListener(function(d,f){if(!d||d.isReadOnly()){return null}var e=new CKEDITOR.dom.elementPath(d),c=e.blockLimit;if(c&&c.getAscendant("div",true)){return{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}}return null})}}CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js");CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}})})();