CKEDITOR.dialog.add("checkbox",function(a){return{title:a.lang.checkboxAndRadio.checkboxTitle,minWidth:350,minHeight:140,onShow:function(){delete this.checkbox;var b=this.getParentEditor().getSelection().getSelectedElement();if(b&&b.getAttribute("type")=="checkbox"){this.checkbox=b;this.setupContent(b)}},onOk:function(){var d,c=this.checkbox,b=!c;if(b){d=this.getParentEditor();c=d.document.createElement("input");c.setAttribute("type","checkbox");d.insertElement(c)}this.commitContent({element:c})},contents:[{id:"info",label:a.lang.checkboxAndRadio.checkboxTitle,title:a.lang.checkboxAndRadio.checkboxTitle,startupFocus:"txtName",elements:[{id:"txtName",type:"text",label:a.lang.common.name,"default":"",accessKey:"N",setup:function(b){this.setValue(b.data("cke-saved-name")||b.getAttribute("name")||"")},commit:function(c){var b=c.element;if(this.getValue()){b.data("cke-saved-name",this.getValue())}else{b.data("cke-saved-name",false);b.removeAttribute("name")}}},{id:"txtValue",type:"text",label:a.lang.checkboxAndRadio.value,"default":"",accessKey:"V",setup:function(b){var c=b.getAttribute("value");this.setValue(CKEDITOR.env.ie&&c=="on"?"":c)},commit:function(e){var b=e.element,d=this.getValue();if(d&&!(CKEDITOR.env.ie&&d=="on")){b.setAttribute("value",d)}else{if(CKEDITOR.env.ie){var c=new CKEDITOR.dom.element("input",b.getDocument());b.copyAttributes(c,{value:1});c.replace(b);a.getSelection().selectElement(c);e.element=c}else{b.removeAttribute("value")}}}},{id:"cmbSelected",type:"checkbox",label:a.lang.checkboxAndRadio.selected,"default":"",accessKey:"S",value:"checked",setup:function(b){this.setValue(b.getAttribute("checked"))},commit:function(f){var d=f.element;if(CKEDITOR.env.ie){var b=!!d.getAttribute("checked"),g=!!this.getValue();if(b!=g){var c=CKEDITOR.dom.element.createFromHtml('<input type="checkbox"'+(g?' checked="checked"':"")+"/>",a.document);d.copyAttributes(c,{type:1,checked:1});c.replace(d);a.getSelection().selectElement(c);f.element=c}}else{var e=this.getValue();if(e){d.setAttribute("checked","checked")}else{d.removeAttribute("checked")}}}}]}]}});