CKEDITOR.dialog.add("hiddenfield",function(a){return{title:a.lang.hidden.title,hiddenField:null,minWidth:350,minHeight:110,onShow:function(){delete this.hiddenField;var d=this.getParentEditor(),c=d.getSelection(),b=c.getSelectedElement();if(b&&b.data("cke-real-element-type")&&b.data("cke-real-element-type")=="hiddenfield"){this.hiddenField=b;b=d.restoreRealElement(this.hiddenField);this.setupContent(b);c.selectElement(this.hiddenField)}},onOk:function(){var c=this.getValueOf("info","_cke_saved_name"),f=this.getValueOf("info","value"),e=this.getParentEditor(),d=CKEDITOR.env.ie&&!(CKEDITOR.document.$.documentMode>=8)?e.document.createElement('<input name="'+CKEDITOR.tools.htmlEncode(c)+'">'):e.document.createElement("input");d.setAttribute("type","hidden");this.commitContent(d);var b=e.createFakeElement(d,"cke_hidden","hiddenfield");if(!this.hiddenField){e.insertElement(b)}else{b.replace(this.hiddenField);e.getSelection().selectElement(b)}return true},contents:[{id:"info",label:a.lang.hidden.title,title:a.lang.hidden.title,elements:[{id:"_cke_saved_name",type:"text",label:a.lang.hidden.name,"default":"",accessKey:"N",setup:function(b){this.setValue(b.data("cke-saved-name")||b.getAttribute("name")||"")},commit:function(b){if(this.getValue()){b.setAttribute("name",this.getValue())}else{b.removeAttribute("name")}}},{id:"value",type:"text",label:a.lang.hidden.value,"default":"",accessKey:"V",setup:function(b){this.setValue(b.getAttribute("value")||"")},commit:function(b){if(this.getValue()){b.setAttribute("value",this.getValue())}else{b.removeAttribute("value")}}}]}]}});