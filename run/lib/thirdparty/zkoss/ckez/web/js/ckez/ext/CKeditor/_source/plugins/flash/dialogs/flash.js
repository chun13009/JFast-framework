(function(){var j=1,a=2,d=4;var e={id:[{type:j,name:"id"}],classid:[{type:j,name:"classid"}],codebase:[{type:j,name:"codebase"}],pluginspage:[{type:d,name:"pluginspage"}],src:[{type:a,name:"movie"},{type:d,name:"src"},{type:j,name:"data"}],name:[{type:d,name:"name"}],align:[{type:j,name:"align"}],"class":[{type:j,name:"class"},{type:d,name:"class"}],width:[{type:j,name:"width"},{type:d,name:"width"}],height:[{type:j,name:"height"},{type:d,name:"height"}],hSpace:[{type:j,name:"hSpace"},{type:d,name:"hSpace"}],vSpace:[{type:j,name:"vSpace"},{type:d,name:"vSpace"}],style:[{type:j,name:"style"},{type:d,name:"style"}],type:[{type:d,name:"type"}]};var h=["play","loop","menu","quality","scale","salign","wmode","bgcolor","base","flashvars","allowScriptAccess","allowFullScreen"];for(var f=0;f<h.length;f++){e[h[f]]=[{type:d,name:h[f]},{type:a,name:h[f]}]}h=["allowFullScreen","play","loop","menu"];for(f=0;f<h.length;f++){e[h[f]][0]["default"]=e[h[f]][1]["default"]=true}var b=CKEDITOR.tools.cssLength;function g(n,l,q){var m=e[this.id];if(!m){return}var p=(this instanceof CKEDITOR.ui.dialog.checkbox);for(var o=0;o<m.length;o++){var k=m[o];switch(k.type){case j:if(!n){continue}if(n.getAttribute(k.name)!==null){var r=n.getAttribute(k.name);if(p){this.setValue(r.toLowerCase()=="true")}else{this.setValue(r)}return}else{if(p){this.setValue(!!k["default"])}}break;case a:if(!n){continue}if(k.name in q){r=q[k.name];if(p){this.setValue(r.toLowerCase()=="true")}else{this.setValue(r)}return}else{if(p){this.setValue(!!k["default"])}}break;case d:if(!l){continue}if(l.getAttribute(k.name)){r=l.getAttribute(k.name);if(p){this.setValue(r.toLowerCase()=="true")}else{this.setValue(r)}return}else{if(p){this.setValue(!!k["default"])}}}}}function c(r,l,s){var o=e[this.id];if(!o){return}var k=(this.getValue()===""),n=(this instanceof CKEDITOR.ui.dialog.checkbox);for(var p=0;p<o.length;p++){var q=o[p];switch(q.type){case j:if(!r||(q.name=="data"&&l&&!r.hasAttribute("data"))){continue}var t=this.getValue();if(k||n&&t===q["default"]){r.removeAttribute(q.name)}else{r.setAttribute(q.name,t)}break;case a:if(!r){continue}t=this.getValue();if(k||n&&t===q["default"]){if(q.name in s){s[q.name].remove()}}else{if(q.name in s){s[q.name].setAttribute("value",t)}else{var m=CKEDITOR.dom.element.createFromHtml("<cke:param></cke:param>",r.getDocument());m.setAttributes({name:q.name,value:t});if(r.getChildCount()<1){m.appendTo(r)}else{m.insertBefore(r.getFirst())}}}break;case d:if(!l){continue}t=this.getValue();if(k||n&&t===q["default"]){l.removeAttribute(q.name)}else{l.setAttribute(q.name,t)}}}}CKEDITOR.dialog.add("flash",function(m){var n=!m.config.flashEmbedTagOnly,i=m.config.flashAddEmbedTag||m.config.flashEmbedTagOnly;var k,l="<div>"+CKEDITOR.tools.htmlEncode(m.lang.common.preview)+'<br><div id="cke_FlashPreviewLoader'+CKEDITOR.tools.getNextNumber()+'" style="display:none"><div class="loading">&nbsp;</div></div><div id="cke_FlashPreviewBox'+CKEDITOR.tools.getNextNumber()+'" class="FlashPreviewBox"></div></div>';return{title:m.lang.flash.title,minWidth:420,minHeight:310,onShow:function(){this.fakeImage=this.objectNode=this.embedNode=null;k=new CKEDITOR.dom.element("embed",m.document);var x=this.getSelectedElement();if(x&&x.data("cke-real-element-type")&&x.data("cke-real-element-type")=="flash"){this.fakeImage=x;var r=m.restoreRealElement(x),u=null,q=null,v={};if(r.getName()=="cke:object"){u=r;var t=u.getElementsByTag("embed","cke");if(t.count()>0){q=t.getItem(0)}var z=u.getElementsByTag("param","cke");for(var s=0,p=z.count();s<p;s++){var y=z.getItem(s),o=y.getAttribute("name"),w=y.getAttribute("value");v[o]=w}}else{if(r.getName()=="cke:embed"){q=r}}this.objectNode=u;this.embedNode=q;this.setupContent(u,q,v,x)}},onOk:function(){var u=null,p=null,v=null;if(!this.fakeImage){if(n){u=CKEDITOR.dom.element.createFromHtml("<cke:object></cke:object>",m.document);var r={classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"};u.setAttributes(r)}if(i){p=CKEDITOR.dom.element.createFromHtml("<cke:embed></cke:embed>",m.document);p.setAttributes({type:"application/x-shockwave-flash",pluginspage:"http://www.macromedia.com/go/getflashplayer"});if(u){p.appendTo(u)}}}else{u=this.objectNode;p=this.embedNode}if(u){v={};var x=u.getElementsByTag("param","cke");for(var s=0,o=x.count();s<o;s++){v[x.getItem(s).getAttribute("name")]=x.getItem(s)}}var q={},t={};this.commitContent(u,p,v,q,t);var w=m.createFakeElement(u||p,"cke_flash","flash",true);w.setAttributes(t);w.setStyles(q);if(this.fakeImage){w.replace(this.fakeImage);m.getSelection().selectElement(w)}else{m.insertElement(w)}},onHide:function(){if(this.preview){this.preview.setHtml("")}},contents:[{id:"info",label:m.lang.common.generalTab,accessKey:"I",elements:[{type:"vbox",padding:0,children:[{type:"hbox",widths:["280px","110px"],align:"right",children:[{id:"src",type:"text",label:m.lang.common.url,required:true,validate:CKEDITOR.dialog.validate.notEmpty(m.lang.flash.validateSrc),setup:g,commit:c,onLoad:function(){var o=this.getDialog(),p=function(q){k.setAttribute("src",q);o.preview.setHtml('<embed height="100%" width="100%" src="'+CKEDITOR.tools.htmlEncode(k.getAttribute("src"))+'" type="application/x-shockwave-flash"></embed>')};o.preview=o.getContentElement("info","preview").getElement().getChild(3);this.on("change",function(q){if(q.data&&q.data.value){p(q.data.value)}});this.getInputElement().on("change",function(q){p(this.getValue())},this)}},{type:"button",id:"browse",filebrowser:"info:src",hidden:true,style:"display:inline-block;margin-top:10px;",label:m.lang.common.browseServer}]}]},{type:"hbox",widths:["25%","25%","25%","25%","25%"],children:[{type:"text",id:"width",style:"width:95px",label:m.lang.common.width,validate:CKEDITOR.dialog.validate.htmlLength(m.lang.common.invalidHtmlLength.replace("%1",m.lang.common.width)),setup:g,commit:c},{type:"text",id:"height",style:"width:95px",label:m.lang.common.height,validate:CKEDITOR.dialog.validate.htmlLength(m.lang.common.invalidHtmlLength.replace("%1",m.lang.common.height)),setup:g,commit:c},{type:"text",id:"hSpace",style:"width:95px",label:m.lang.flash.hSpace,validate:CKEDITOR.dialog.validate.integer(m.lang.flash.validateHSpace),setup:g,commit:c},{type:"text",id:"vSpace",style:"width:95px",label:m.lang.flash.vSpace,validate:CKEDITOR.dialog.validate.integer(m.lang.flash.validateVSpace),setup:g,commit:c}]},{type:"vbox",children:[{type:"html",id:"preview",style:"width:95%;",html:l}]}]},{id:"Upload",hidden:true,filebrowser:"uploadButton",label:m.lang.common.upload,elements:[{type:"file",id:"upload",label:m.lang.common.upload,size:38},{type:"fileButton",id:"uploadButton",label:m.lang.common.uploadSubmit,filebrowser:"info:src","for":["Upload","upload"]}]},{id:"properties",label:m.lang.flash.propertiesTab,elements:[{type:"hbox",widths:["50%","50%"],children:[{id:"scale",type:"select",label:m.lang.flash.scale,"default":"",style:"width : 100%;",items:[[m.lang.common.notSet,""],[m.lang.flash.scaleAll,"showall"],[m.lang.flash.scaleNoBorder,"noborder"],[m.lang.flash.scaleFit,"exactfit"]],setup:g,commit:c},{id:"allowScriptAccess",type:"select",label:m.lang.flash.access,"default":"",style:"width : 100%;",items:[[m.lang.common.notSet,""],[m.lang.flash.accessAlways,"always"],[m.lang.flash.accessSameDomain,"samedomain"],[m.lang.flash.accessNever,"never"]],setup:g,commit:c}]},{type:"hbox",widths:["50%","50%"],children:[{id:"wmode",type:"select",label:m.lang.flash.windowMode,"default":"",style:"width : 100%;",items:[[m.lang.common.notSet,""],[m.lang.flash.windowModeWindow,"window"],[m.lang.flash.windowModeOpaque,"opaque"],[m.lang.flash.windowModeTransparent,"transparent"]],setup:g,commit:c},{id:"quality",type:"select",label:m.lang.flash.quality,"default":"high",style:"width : 100%;",items:[[m.lang.common.notSet,""],[m.lang.flash.qualityBest,"best"],[m.lang.flash.qualityHigh,"high"],[m.lang.flash.qualityAutoHigh,"autohigh"],[m.lang.flash.qualityMedium,"medium"],[m.lang.flash.qualityAutoLow,"autolow"],[m.lang.flash.qualityLow,"low"]],setup:g,commit:c}]},{type:"hbox",widths:["50%","50%"],children:[{id:"align",type:"select",label:m.lang.common.align,"default":"",style:"width : 100%;",items:[[m.lang.common.notSet,""],[m.lang.common.alignLeft,"left"],[m.lang.flash.alignAbsBottom,"absBottom"],[m.lang.flash.alignAbsMiddle,"absMiddle"],[m.lang.flash.alignBaseline,"baseline"],[m.lang.common.alignBottom,"bottom"],[m.lang.common.alignMiddle,"middle"],[m.lang.common.alignRight,"right"],[m.lang.flash.alignTextTop,"textTop"],[m.lang.common.alignTop,"top"]],setup:g,commit:function(p,o,q,t,r){var s=this.getValue();c.apply(this,arguments);s&&(r.align=s)}},{type:"html",html:"<div></div>"}]},{type:"fieldset",label:CKEDITOR.tools.htmlEncode(m.lang.flash.flashvars),children:[{type:"vbox",padding:0,children:[{type:"checkbox",id:"menu",label:m.lang.flash.chkMenu,"default":true,setup:g,commit:c},{type:"checkbox",id:"play",label:m.lang.flash.chkPlay,"default":true,setup:g,commit:c},{type:"checkbox",id:"loop",label:m.lang.flash.chkLoop,"default":true,setup:g,commit:c},{type:"checkbox",id:"allowFullScreen",label:m.lang.flash.chkFull,"default":true,setup:g,commit:c}]}]}]},{id:"advanced",label:m.lang.common.advancedTab,elements:[{type:"hbox",children:[{type:"text",id:"id",label:m.lang.common.id,setup:g,commit:c}]},{type:"hbox",widths:["45%","55%"],children:[{type:"text",id:"bgcolor",label:m.lang.flash.bgcolor,setup:g,commit:c},{type:"text",id:"class",label:m.lang.common.cssClass,setup:g,commit:c}]},{type:"text",id:"style",validate:CKEDITOR.dialog.validate.inlineStyle(m.lang.common.invalidInlineStyle),label:m.lang.common.cssStyle,setup:g,commit:c}]}]}})})();